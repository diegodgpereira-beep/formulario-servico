<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Formulário de Prestação de Serviço</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h2 { background: #f2f2f2; padding: 10px; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    input, select { width: 100%; padding: 6px; margin-top: 4px; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border: 1px solid #ccc; padding: 6px; text-align: center; }
    button { padding: 10px 15px; margin-top: 20px; cursor: pointer; }
    .section { margin-bottom: 20px; }
</style>
</head>
<body>

<div id="formulario">
    <h1>Prestação de Serviço</h1>

    <div class="section">
        <h2>Informações Gerais</h2>
        <label>Local</label>
        <input type="text" id="local">
        <label>Centro de Custo</label>
        <input type="text" id="centro_custo">
        <label>Mês de Referência</label>
        <input type="month" id="mes_ref">
    </div>

    <div class="section">
        <h2>Quantidade de Profissionais</h2>
        <label>Seguranças</label>
        <input type="number" id="qtd_seg">
        <label>Auxiliares de Limpeza</label>
        <input type="number" id="qtd_aux">
    </div>

    <div class="section">
        <h2>Escala de Trabalho e Horários</h2>
        <table id="escala">
            <thead>
                <tr>
                    <th>Dia</th><th>Data</th><th>Função</th><th>Gênero</th><th>Horário</th><th>Valor</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input></td>
                    <td><input type="date"></td>
                    <td><input></td>
                    <td><select><option>Masculino</option><option>Feminino</option></select></td>
                    <td><input placeholder="Ex: 17:00 às 01:00"></td>
                    <td><input type="number" step="0.01"></td>
                </tr>
            </tbody>
        </table>
        <button type="button" onclick="addRow()">Adicionar Linha</button>
    </div>

    <div class="section">
        <h2>Pagamento</h2>
        <label>Valor Total a Receber</label>
        <input type="number" step="0.01" id="total">
        <label>Forma de Pagamento</label>
        <input type="text" id="forma_pagto">
        <label>CPF</label>
        <input type="text" id="cpf">
        <label>Beneficiário</label>
        <input type="text" id="beneficiario">
        <label>Banco</label>
        <input type="text" id="banco">
    </div>
</div>

<button onclick="gerarPDF()">Gerar PDF</button>

<script>
function addRow() {
    let tabela = document.getElementById("escala").getElementsByTagName('tbody')[0];
    let novaLinha = tabela.rows[0].cloneNode(true);
    novaLinha.querySelectorAll("input").forEach(input => input.value = "");
    tabela.appendChild(novaLinha);
}

function gerarPDF() {
    let elemento = document.getElementById("formulario");
    let opt = {
        margin: 10,
        filename: 'prestacao_servico.pdf',
        html2canvas: { scale: 2 },
        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
    };
    html2pdf().set(opt).from(elemento).save();
}
</script>

</body>
</html>
